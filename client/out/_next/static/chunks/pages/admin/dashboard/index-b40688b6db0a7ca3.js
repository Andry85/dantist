(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[673],{9149:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/dashboard/index",function(){return n(9431)}])},6476:function(e,a,n){"use strict";var s=n(5893),t=n(5920),d=n.n(t);let r=e=>{let{children:a}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:d().container,children:a})})};a.Z=r},2459:function(e,a,n){"use strict";var s=n(5893);n(7294);var t=n(9070),d=n.n(t);let r=e=>{let{children:a}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:d().content,children:a})})};a.Z=r},8966:function(e,a,n){"use strict";var s=n(5893);n(7294);var t=n(8089),d=n.n(t),r=n(1664),i=n.n(r),l=n(1649),c=n(6336),o=n(1163);let h=()=>{let e=(0,o.useRouter)(),a=(0,l.v9)(e=>e.user.login),n=(0,l.I0)(),t=()=>{n((0,c.ni)()),e.push("/")};return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("header",{className:d().header,children:[(0,s.jsx)("div",{className:d().header__logo,children:(0,s.jsx)(i(),{href:"/admin/dashboard/index",children:"Admin Panel"})}),(0,s.jsxs)("ul",{className:d().header__user,children:[(0,s.jsx)("li",{children:(0,s.jsx)("span",{children:a&&"Admin"})}),(0,s.jsx)("li",{children:(0,s.jsx)("span",{className:d().header__logout,onClick:t,role:"button",tabIndex:0,children:"Log Out"})})]})]})})};a.Z=h},8520:function(e,a,n){"use strict";var s=n(5893);n(7294);var t=n(8848),d=n.n(t),r=n(1664),i=n.n(r),l=n(1163);let c=()=>{let e=(0,l.useRouter)();return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("aside",{className:d().sidebar,children:[(0,s.jsxs)("div",{className:d().sidebar__block,children:[(0,s.jsx)("h2",{children:"Pages"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{className:"/admin/dashboard/index"==e.asPath?d().active:"",children:(0,s.jsx)(i(),{href:"/admin/dashboard/index",children:"Main"})}),(0,s.jsx)("li",{className:"/admin/dashboard/about"==e.asPath?d().active:"",children:(0,s.jsx)(i(),{href:"/admin/dashboard/about",children:"About Doctor"})}),(0,s.jsx)("li",{className:"/admin/dashboard/faq"==e.asPath?d().active:"",children:(0,s.jsx)(i(),{href:"/admin/dashboard/faq",children:"FAQ"})})]})]}),(0,s.jsxs)("div",{className:d().sidebar__block,children:[(0,s.jsx)("h2",{children:"Others"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{className:"/admin/dashboard/orders"==e.asPath?d().active:"",children:(0,s.jsx)(i(),{href:"/admin/dashboard/orders",children:"List of orders"})}),(0,s.jsx)("li",{className:"/admin/dashboard/slider"==e.asPath?d().active:"",children:(0,s.jsx)(i(),{href:"/admin/dashboard/slider",children:"Slider"})})]})]})]})})};a.Z=c},4865:function(e,a,n){"use strict";n.d(a,{b:function(){return t}});var s=n(6154);let t=s.Z.create({baseURL:"".concat("https://parkovka.in.ua","/")})},9431:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return u}});var s=n(5893),t=n(7294),d=n(9008),r=n.n(d),i=n(4874),l=n.n(i),c=n(8966),o=n(6476),h=n(8520),_=n(2459),x=n(4865);function u(){let[e,a]=(0,t.useState)(null),[n,d]=(0,t.useState)(""),[i,u]=(0,t.useState)(""),[p,m]=(0,t.useState)(!1),[b,j]=(0,t.useState)(""),[g,f]=(0,t.useState)(""),v=e=>{e.target.files&&a(e.target.files[0])},N=async a=>{if(a.preventDefault(),b||g){let a=new FormData;a.append("photo",e),a.append("text",n),a.append("link",i),a.append("avatar",b);try{await x.b.put("/indexpage/upload/".concat(g),a,{headers:{"Content-Type":"multipart/form-data"}}),m(!1),window.location.replace("/admin/dashboard/index")}catch(e){500===e.response.status?(console.log(e),m(!0)):console.log(e.response.data.msg)}}else{let a=new FormData;a.append("photo",e),a.append("text",n),a.append("link",i);try{await x.b.post("/indexpage/upload/",a,{headers:{"Content-Type":"multipart/form-data"}}),m(!1)}catch(e){500===e.response.status?(console.log(e),m(!0)):console.log(e.response.data.msg)}}};(0,t.useEffect)(()=>{let e=async()=>{let e=await x.b.get("/indexpage/");0!==e.data.length&&(u(e.data[0].link),d(e.data[0].text),j(e.data[0].photo),f(e.data[0]._id))};e()},[]);let w=async(e,a)=>{j(""),await x.b.delete("/indexpage/deleteImg/".concat(a))};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r(),{children:(0,s.jsx)("title",{children:"Index dashboard page"})}),(0,s.jsx)(c.Z,{}),(0,s.jsxs)(o.Z,{children:[(0,s.jsx)(h.Z,{}),(0,s.jsx)(_.Z,{children:(0,s.jsx)("div",{className:l().index,children:(0,s.jsxs)("form",{onSubmit:N,children:[(0,s.jsxs)("div",{className:l().index__row,children:[b?(0,s.jsx)("img",{src:"".concat("".concat("https://parkovka.in.ua","/images/"),"/").concat(b),width:100,height:100,alt:""}):"",b?(0,s.jsx)("button",{className:l().index__deleteImag,onClick:e=>w(e,b),children:"Delete"}):""]}),(0,s.jsxs)("div",{className:l().index__row,children:[(0,s.jsx)("label",{children:"Image"}),(0,s.jsx)("input",{type:"file",name:"photo",accept:".png, .jpg, .jpeg",onChange:v})]}),(0,s.jsxs)("div",{className:l().index__row,children:[(0,s.jsx)("label",{children:"Text"}),(0,s.jsx)("textarea",{rows:8,value:n,onChange:e=>d(e.target.value)})]}),(0,s.jsxs)("div",{className:l().index__row,children:[(0,s.jsx)("label",{children:"Link"}),(0,s.jsx)("input",{type:"text",value:i,onChange:e=>u(e.target.value)})]}),(0,s.jsx)("button",{className:l().index__submitBtn,children:b||g?"Update":"Save"})]})})})]})]})}},5920:function(e){e.exports={container:"DasboardContainer_container__M3kNQ"}},9070:function(e){e.exports={content:"DasboardContent_content__qI5TS"}},8089:function(e){e.exports={header:"DasboardHeader_header__vQtaa",header__logo:"DasboardHeader_header__logo__Dj7Ew",header__user:"DasboardHeader_header__user__hcW2_",header__logout:"DasboardHeader_header__logout__FgcBa"}},8848:function(e){e.exports={sidebar:"DasboardSidebar_sidebar__Ejo12",sidebar__block:"DasboardSidebar_sidebar__block__ectdD",active:"DasboardSidebar_active__AYk0X"}},4874:function(e){e.exports={index:"Index_index__7B8cC",index__row:"Index_index__row__LiDQg",index__submitBtn:"Index_index__submitBtn__Q4Npg",index__deleteImag:"Index_index__deleteImag__sBWtu"}}},function(e){e.O(0,[513,774,888,179],function(){return e(e.s=9149)}),_N_E=e.O()}]);